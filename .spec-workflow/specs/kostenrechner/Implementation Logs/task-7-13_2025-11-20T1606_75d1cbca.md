# Implementation Log: Task 7.13

**Summary:** Umami Analytics Tracking in CostCalculator integriert: Events für step-completed, result-viewed, abandoned, mit Landing-Page-Varianten-Tracking via window.location.pathname. Exportierte trackCalculatorEvent() Funktion für Child-Komponenten (feature-selected, lead-captured).

**Timestamp:** 2025-11-20T16:06:31.043Z
**Log ID:** 75d1cbca-8c49-47e5-bae4-767f71530d16

---

## Statistics

- **Lines Added:** +78
- **Lines Removed:** -10
- **Files Changed:** 1
- **Net Change:** 68

## Files Modified
- components/calculator/CostCalculator.tsx

## Files Created
_No files created_

---

## Artifacts

### Functions

#### trackCalculatorEvent
- **Purpose:** Tracks calculator events with Umami Analytics, includes page variant tracking via window.location.pathname
- **Location:** components/calculator/CostCalculator.tsx:48
- **Signature:** (eventName: string, eventData?: Record<string, unknown>) => void
- **Exported:** Yes

### Integrations

#### Integration
- **Description:** Umami Analytics tracking for calculator conversion funnel
- **Frontend Component:** CostCalculator
- **Backend Endpoint:** Umami Analytics (window.umami.track)
- **Data Flow:** User interaction → trackCalculatorEvent() → window.umami.track() with page pathname → Umami dashboard. Events: calculator-step-completed (step navigation), calculator-result-viewed (step 6 reached with price comparison), calculator-abandoned (beforeunload if step < 6), calculator-feature-selected (exported for StepFeatures), calculator-lead-captured (exported for LeadCaptureDialog)

